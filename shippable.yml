# Language setting
language: clojure

lein:
  - lein2

build_image: shippableimages/ubuntu1204_clojure:0.0.2
commit_container: amurphy/testclojure

# Create directories for test and coverage reports
before_script:
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage
  - git config --list

# Running the test with Leiningen
script:
  - cd sample
  - lein test2junit
  - ls -R

notifications:
  email:
    on_success: always
    recipients: aidan@shippable.com
  irc:
    - localhost#channel1
    - localhost#channel2

cache: true
